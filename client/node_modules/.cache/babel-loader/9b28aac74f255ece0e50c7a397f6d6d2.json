{"ast":null,"code":"var _jsxFileName = \"/home/subham/Desktop/Personal/assignment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { MicrophoneIcon, SearchIcon } from '@heroicons/react/outline';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport firebase from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //using react hooks\n  const [url, setUrl] = useState(\"\");\n  const [number, setNumber] = useState();\n  const [email, setEmail] = useState(\"\");\n  const [OTP, setOTP] = useState();\n  const [showLogin, setshowLogin] = useState(false);\n\n  const handleLogout = e => {// e.preventDefault();\n    // firebase.auth.signOut()\n    // .then(() => {\n    //   alert('uuser has successfully logged out');\n    // })\n  }; // useEffect(() => {\n  //   firebase.auth.onAuthStateChanged(user =>{\n  //     if(user) {\n  //       console.log(user);\n  //     }\n  //     else{\n  //       console.log(\"not logged in\");\n  //     }\n  // })\n  // }, [])\n  //handling the API calls\n\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setshowLogin(true);\n  }; //handling the onchange events\n\n\n  const handleChange = event => {\n    setUrl(event.target.value);\n  };\n\n  const configureCaptcha = () => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': response => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        onSignInSubmit();\n        console.log(\"verified\");\n      },\n      defaultCountry: 'IND'\n    });\n  };\n\n  const onSignInSubmit = e => {\n    e.preventDefault(); //calling recaptcha\n\n    configureCaptcha();\n    const phoneNumber = \"+91\" + number;\n    const appVerifier = window.recaptchaVerifier;\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier).then(confirmationResult => {\n      // SMS sent. Prompt user to type the code from the message, then sign the\n      // user in with confirmationResult.confirm(code).\n      window.confirmationResult = confirmationResult;\n      console.log(\"Otp sent!\");\n      alert('OTP has been sent'); // ...\n    }).catch(error => {\n      // Error; SMS not sent\n      console.log(\"SMS error\", error);\n    });\n  };\n\n  const onSubmitOtp = e => {\n    e.preventDefault();\n    const code = OTP;\n    window.confirmationResult.confirm(code).then(result => {\n      // User signed in successfully.\n      const user = result.user;\n      console.log(JSON.stringify(user));\n      alert(\"User is verified\");\n      setshowLogin(false); //calling the API\n\n      axios.get(`http://localhost:5000?url=${url}&email=${email}`).then(response => {\n        console.log(response);\n      }).catch(error => {\n        console.log(error);\n      }); // ...\n    }).catch(error => {// User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }; // function sendEmail(e){\n  //   e.preventDefault();\n  //   emailjs.sendForm('service_0itqh7d', 'template_1ig71cm', e.target, 'user_CrKcj2LJr4LH0bMkQRcVD')\n  //   .then((result) => {\n  //       console.log(result.text);\n  //   }, (error) => {\n  //       console.log(error.text);\n  //   });\n  // } \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Google2.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Generated by create next app\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex w-full p-5 justify-between text-sm text-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"About\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"Gmail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogout,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            id: \"sign-in-button\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex flex-col items-center mt-44 flex-grow\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.google.co.uk/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png\",\n        width: 300,\n        height: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n        children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n          className: \"h-5 mr-3 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"url\",\n          className: \"focus:outline-none flex-grow \",\n          value: url,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n          className: \"h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"btn\",\n          children: \"Monitor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lex flex-col items-center pl-44 flex-grow\",\n      style: {\n        display: showLogin ? 'flex' : 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col items-center  flex-grow\",\n        onSubmit: onSignInSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sign-in-button \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"focus:outline-none flex-grow\",\n            type: \"number\",\n            name: \"number\",\n            placeholder: \"Mobile number\",\n            value: number,\n            required: true,\n            onChange: e => setNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"focus:outline-none flex-grow\",\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            value: email,\n            required: true,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col items-center  flex-grow\",\n        onSubmit: onSubmitOtp,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sign-in-button \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"focus:outline-none flex-grow\",\n            type: \"number\",\n            name: \"otp\",\n            placeholder: \"OTP Number\",\n            value: OTP,\n            required: true,\n            onChange: e => setOTP(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Submit OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"JBaWbNaSxbJuk7GSYpanWtue+M0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/subham/Desktop/Personal/assignment/client/src/App.js"],"names":["MicrophoneIcon","SearchIcon","useState","useEffect","axios","firebase","App","url","setUrl","number","setNumber","email","setEmail","OTP","setOTP","showLogin","setshowLogin","handleLogout","e","handleSubmit","event","preventDefault","handleChange","target","value","configureCaptcha","window","recaptchaVerifier","auth","RecaptchaVerifier","response","onSignInSubmit","console","log","defaultCountry","phoneNumber","appVerifier","signInWithPhoneNumber","then","confirmationResult","alert","catch","error","onSubmitOtp","code","confirm","result","user","JSON","stringify","get","display"],"mappings":"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","sourcesContent":["import './App.css';\nimport {MicrophoneIcon, SearchIcon } from '@heroicons/react/outline'\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport firebase from './firebase'\n\n\nfunction App() {\n\n  //using react hooks\n  const [url, setUrl] = useState(\"\"); \n  const [number, setNumber] = useState(); \n  const [email, setEmail] = useState(\"\");\n  const [OTP, setOTP] = useState();\n  const [showLogin, setshowLogin] = useState(false);\n\n\n\n  const handleLogout = (e) => {\n    // e.preventDefault();\n    // firebase.auth.signOut()\n    // .then(() => {\n    //   alert('uuser has successfully logged out');\n    // })\n  }\n  // useEffect(() => {\n  //   firebase.auth.onAuthStateChanged(user =>{\n  //     if(user) {\n  //       console.log(user);\n  //     }\n  //     else{\n  //       console.log(\"not logged in\");\n  //     }\n  // })\n    \n  // }, [])\n  \n\n  //handling the API calls\n  const handleSubmit = async(event) => {\n    event.preventDefault();\n    setshowLogin(true)\n}\n\n\n\n  //handling the onchange events\n  const handleChange = (event) =>{\n    setUrl(event.target.value);\n  }\n\n  const configureCaptcha = () =>{\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': (response) => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        onSignInSubmit();\n        console.log(\"verified\");\n      },\n      defaultCountry: 'IND'\n    });\n  }\n\n\n  const onSignInSubmit = (e) => {\n    e.preventDefault();\n    //calling recaptcha\n    configureCaptcha();\n\n    const phoneNumber = \"+91\" + number;\n    const appVerifier = window.recaptchaVerifier;\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)\n        .then((confirmationResult) => {\n          // SMS sent. Prompt user to type the code from the message, then sign the\n          // user in with confirmationResult.confirm(code).\n          window.confirmationResult = confirmationResult;\n          console.log(\"Otp sent!\")\n          alert('OTP has been sent');\n          // ...\n        }).catch((error) => {\n          // Error; SMS not sent\n          console.log(\"SMS error\",error);\n        });\n  }\n\n  const onSubmitOtp = (e) => {\n    e.preventDefault();\n    const code = OTP;\n    window.confirmationResult.confirm(code).then((result) => {\n      // User signed in successfully.\n      const user = result.user;\n      console.log(JSON.stringify(user));\n      alert(\"User is verified\")\n      setshowLogin(false)\n\n      //calling the API\n      axios.get(`http://localhost:5000?url=${url}&email=${email}`)\n    .then(response => {\n      console.log(response)\n    })\n    .catch(error => {\n      console.log(error)\n    })\n      // ...\n    }).catch((error) => {\n      // User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }\n\n  // function sendEmail(e){\n  //   e.preventDefault();\n  //   emailjs.sendForm('service_0itqh7d', 'template_1ig71cm', e.target, 'user_CrKcj2LJr4LH0bMkQRcVD')\n  //   .then((result) => {\n  //       console.log(result.text);\n  //   }, (error) => {\n  //       console.log(error.text);\n  //   });\n  // } \n\n\n  return (\n    <div >\n      <head>\n        <title>Google2.0</title>\n        <meta name=\"description\" content=\"Generated by create next app\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </head>\n    {/* header-section */}\n    <header className=\"flex w-full p-5 justify-between text-sm text-gray-700\">\n    {/* div left */}\n      <div className=\"flex space-x-4 items-center\">\n        <p className=\"link\">About</p>\n        <p className=\"link\">Store</p> \n\n      </div>\n    {/* DIV RIGHT */}\n      <div className=\"flex space-x-4 items-center\">\n        <p className=\"link\">Gmail</p>\n        <form onSubmit={handleLogout}> \n        <button className=\"btn\" id=\"sign-in-button\" >Logout</button>\n        </form>\n\n    {/* icons */}\n      </div> \n     \n    </header>\n    \n    {/* body-section */}\n    <form className=\"flex flex-col items-center mt-44 flex-grow\" >\n      <img\n        src=\"https://www.google.co.uk/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png\"\n        width={300}\n        height={100}\n        />\n\n        <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n          <SearchIcon \n            className=\"h-5 mr-3 text-gray-500\"\n          />\n          <input type=\"text\" name=\"url\" className=\"focus:outline-none flex-grow \" value={url} onChange={handleChange}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n\n        {/* buttons */}\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button onClick={handleSubmit} className=\"btn\">Monitor</button>\n        </div>\n      \n    </form>\n    \n    <div className=\"lex flex-col items-center pl-44 flex-grow\" style={{display: showLogin ? 'flex' : 'none'}}>\n   \n        <form className=\"flex flex-col items-center  flex-grow\" onSubmit={onSignInSubmit}>\n          <div  id=\"sign-in-button \"></div>\n          <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n\n          <input className=\"focus:outline-none flex-grow\"  type=\"number\" name=\"number\" placeholder=\"Mobile number\" value={number} required onChange={(e) => setNumber(e.target.value)}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n        <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n\n          <input className=\"focus:outline-none flex-grow\"  type=\"email\" name=\"email\" placeholder=\"Email\" value={email} required onChange={(e) => setEmail(e.target.value)}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button className=\"btn\" type=\"submit\">Submit</button>\n        </div>\n          \n        </form>\n\n        \n        <form className=\"flex flex-col items-center  flex-grow\" onSubmit={onSubmitOtp}>\n        \n        <div  id=\"sign-in-button \"></div>\n          <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n\n          <input className=\"focus:outline-none flex-grow\" type=\"number\" name=\"otp\" placeholder=\"OTP Number\" value={OTP} required onChange={(e) => setOTP(e.target.value)}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button className=\"btn\" type=\"submit\">Submit OTP</button>\n        </div>\n        </form>\n      </div>\n    {/* footer-section */}\n    \n     \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}