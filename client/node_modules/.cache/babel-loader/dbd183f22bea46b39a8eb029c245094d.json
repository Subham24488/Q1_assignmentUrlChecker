{"ast":null,"code":"var _jsxFileName = \"/home/subham/Desktop/Personal/assignment/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { MicrophoneIcon, SearchIcon } from '@heroicons/react/outline';\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport firebase from './firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  //using react hooks\n  const [url, setUrl] = useState(\"\");\n  const [number, setNumber] = useState();\n  const [email, setEmail] = useState(\"\");\n  const [OTP, setOTP] = useState();\n  const [showLogin, setshowLogin] = useState(false);\n\n  const handleLogout = e => {\n    e.preventDefault();\n    firebase.auth.signOut().then(() => {\n      alert('uuser has successfully logged out');\n    });\n  };\n\n  useEffect(() => {\n    firebase.auth.onAuthStateChanged(user => {\n      if (user) {\n        console.log(user);\n      } else {\n        console.log(\"not logged in\");\n      }\n    });\n  }, [input]); //handling the API calls\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setshowLogin(true);\n    await axios.get(`http://localhost:5000?url=${url}&email=${email}`).then(response => {\n      console.log(response);\n    }).catch(error => {\n      console.log(error);\n    });\n  }; //handling the onchange events\n\n\n  const handleChange = event => {\n    setUrl(event.target.value);\n  };\n\n  const configureCaptcha = () => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': response => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        onSignInSubmit();\n        console.log(\"verified\");\n      },\n      defaultCountry: 'IND'\n    });\n  };\n\n  const onSignInSubmit = e => {\n    e.preventDefault(); //calling recaptcha\n\n    configureCaptcha();\n    const phoneNumber = \"+91\" + number;\n    const appVerifier = window.recaptchaVerifier;\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier).then(confirmationResult => {\n      // SMS sent. Prompt user to type the code from the message, then sign the\n      // user in with confirmationResult.confirm(code).\n      window.confirmationResult = confirmationResult;\n      console.log(\"Otp sent!\");\n      alert('OTP has been sent'); // ...\n    }).catch(error => {\n      // Error; SMS not sent\n      console.log(\"SMS error\", error);\n    });\n  };\n\n  const onSubmitOtp = e => {\n    e.preventDefault();\n    const code = OTP;\n    window.confirmationResult.confirm(code).then(result => {\n      // User signed in successfully.\n      const user = result.user;\n      console.log(JSON.stringify(user));\n      alert(\"User is verified\"); // ...\n    }).catch(error => {// User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }; // function sendEmail(e){\n  //   e.preventDefault();\n  //   emailjs.sendForm('service_0itqh7d', 'template_1ig71cm', e.target, 'user_CrKcj2LJr4LH0bMkQRcVD')\n  //   .then((result) => {\n  //       console.log(result.text);\n  //   }, (error) => {\n  //       console.log(error.text);\n  //   });\n  // } \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"head\", {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Google2.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Generated by create next app\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex w-full p-5 justify-between text-sm text-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"About\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"Store\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-4 items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"link\",\n          children: \"Gmail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleLogout,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            id: \"sign-in-button\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex flex-col items-center mt-44 flex-grow\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://www.google.co.uk/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png\",\n        width: 300,\n        height: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n        children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n          className: \"h-5 mr-3 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"url\",\n          className: \"focus:outline-none flex-grow \",\n          value: url,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n          className: \"h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          className: \"btn\",\n          children: \"Monitor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lex flex-col items-center pl-44 flex-grow\",\n      style: {\n        display: showLogin ? 'flex' : 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col items-center  flex-grow\",\n        onSubmit: onSignInSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sign-in-button \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"focus:outline-none flex-grow\",\n            type: \"number\",\n            name: \"number\",\n            placeholder: \"Mobile number\",\n            value: number,\n            required: true,\n            onChange: e => setNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"flex flex-col items-center  flex-grow\",\n        onSubmit: onSubmitOtp,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"sign-in-button \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"focus:outline-none flex-grow\",\n            type: \"number\",\n            name: \"otp\",\n            placeholder: \"OTP Number\",\n            value: OTP,\n            required: true,\n            onChange: e => setOTP(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(MicrophoneIcon, {\n            className: \"h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            type: \"submit\",\n            children: \"Submit OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"rm/Lb5AypNDobHCa6oe84GIxX/8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/subham/Desktop/Personal/assignment/client/src/App.js"],"names":["MicrophoneIcon","SearchIcon","useState","useEffect","axios","firebase","App","url","setUrl","number","setNumber","email","setEmail","OTP","setOTP","showLogin","setshowLogin","handleLogout","e","preventDefault","auth","signOut","then","alert","onAuthStateChanged","user","console","log","input","handleSubmit","event","get","response","catch","error","handleChange","target","value","configureCaptcha","window","recaptchaVerifier","RecaptchaVerifier","onSignInSubmit","defaultCountry","phoneNumber","appVerifier","signInWithPhoneNumber","confirmationResult","onSubmitOtp","code","confirm","result","JSON","stringify","display"],"mappings":";;;AAAA,OAAO,WAAP;AACA,SAAQA,cAAR,EAAwBC,UAAxB,QAA0C,0BAA1C;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;;;AAGA,SAASC,GAAT,GAAe;AAAA;;AAEb;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,EAApC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,EAA9B;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4Bd,QAAQ,CAAC,KAAD,CAA1C;;AAIA,QAAMe,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACAd,IAAAA,QAAQ,CAACe,IAAT,CAAcC,OAAd,GACCC,IADD,CACM,MAAM;AACVC,MAAAA,KAAK,CAAC,mCAAD,CAAL;AACD,KAHD;AAID,GAND;;AAOApB,EAAAA,SAAS,CAAC,MAAM;AACdE,IAAAA,QAAQ,CAACe,IAAT,CAAcI,kBAAd,CAAiCC,IAAI,IAAG;AACtC,UAAGA,IAAH,EAAS;AACPC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACD,OAFD,MAGI;AACFC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;AACJ,KAPC;AASD,GAVQ,EAUN,CAACC,KAAD,CAVM,CAAT,CAlBa,CA+Bb;;AACA,QAAMC,YAAY,GAAG,MAAMC,KAAN,IAAgB;AACnCA,IAAAA,KAAK,CAACX,cAAN;AACAH,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,UACAZ,KAAK,CAAC2B,GAAN,CAAW,6BAA4BxB,GAAI,UAASI,KAAM,EAA1D,EACCW,IADD,CACMU,QAAQ,IAAI;AAChBN,MAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;AACD,KAHD,EAICC,KAJD,CAIOC,KAAK,IAAI;AACdR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,KAND,CADA;AAQH,GAXC,CAhCa,CA+Cb;;;AACA,QAAMC,YAAY,GAAIL,KAAD,IAAU;AAC7BtB,IAAAA,MAAM,CAACsB,KAAK,CAACM,MAAN,CAAaC,KAAd,CAAN;AACD,GAFD;;AAIA,QAAMC,gBAAgB,GAAG,MAAK;AAC5BC,IAAAA,MAAM,CAACC,iBAAP,GAA2B,IAAInC,QAAQ,CAACe,IAAT,CAAcqB,iBAAlB,CAAoC,gBAApC,EAAsD;AAC/E,cAAQ,WADuE;AAE/E,kBAAaT,QAAD,IAAc;AACxB;AACAU,QAAAA,cAAc;AACdhB,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD,OAN8E;AAO/EgB,MAAAA,cAAc,EAAE;AAP+D,KAAtD,CAA3B;AASD,GAVD;;AAaA,QAAMD,cAAc,GAAIxB,CAAD,IAAO;AAC5BA,IAAAA,CAAC,CAACC,cAAF,GAD4B,CAE5B;;AACAmB,IAAAA,gBAAgB;AAEhB,UAAMM,WAAW,GAAG,QAAQnC,MAA5B;AACA,UAAMoC,WAAW,GAAGN,MAAM,CAACC,iBAA3B;AACAnC,IAAAA,QAAQ,CAACe,IAAT,GAAgB0B,qBAAhB,CAAsCF,WAAtC,EAAmDC,WAAnD,EACKvB,IADL,CACWyB,kBAAD,IAAwB;AAC5B;AACA;AACAR,MAAAA,MAAM,CAACQ,kBAAP,GAA4BA,kBAA5B;AACArB,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAJ,MAAAA,KAAK,CAAC,mBAAD,CAAL,CAL4B,CAM5B;AACD,KARL,EAQOU,KARP,CAQcC,KAAD,IAAW;AAClB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAwBO,KAAxB;AACD,KAXL;AAYD,GAnBD;;AAqBA,QAAMc,WAAW,GAAI9B,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM8B,IAAI,GAAGpC,GAAb;AACA0B,IAAAA,MAAM,CAACQ,kBAAP,CAA0BG,OAA1B,CAAkCD,IAAlC,EAAwC3B,IAAxC,CAA8C6B,MAAD,IAAY;AACvD;AACA,YAAM1B,IAAI,GAAG0B,MAAM,CAAC1B,IAApB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYyB,IAAI,CAACC,SAAL,CAAe5B,IAAf,CAAZ;AACAF,MAAAA,KAAK,CAAC,kBAAD,CAAL,CAJuD,CAKvD;AACD,KAND,EAMGU,KANH,CAMUC,KAAD,IAAW,CAClB;AACA;AACD,KATD;AAUD,GAbD,CAtFa,CAqGb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,sBACE;AAAA,4BACE;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAM,QAAA,IAAI,EAAC,aAAX;AAAyB,QAAA,OAAO,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAM,QAAA,GAAG,EAAC,MAAV;AAAiB,QAAA,IAAI,EAAC;AAAtB;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOA;AAAQ,MAAA,SAAS,EAAC,uDAAlB;AAAA,8BAEE;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAQE;AAAK,QAAA,SAAS,EAAC,6BAAf;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,QAAQ,EAAEjB,YAAhB;AAAA,iCACA;AAAQ,YAAA,SAAS,EAAC,KAAlB;AAAwB,YAAA,EAAE,EAAC,gBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPA,eA2BA;AAAM,MAAA,SAAS,EAAC,4CAAhB;AAAA,8BACE;AACE,QAAA,GAAG,EAAC,sFADN;AAEE,QAAA,KAAK,EAAE,GAFT;AAGE,QAAA,MAAM,EAAE;AAHV;AAAA;AAAA;AAAA;AAAA,cADF,eAOI;AAAK,QAAA,SAAS,EAAC,yIAAf;AAAA,gCACE,QAAC,UAAD;AACE,UAAA,SAAS,EAAC;AADZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,IAAI,EAAC,KAAxB;AAA8B,UAAA,SAAS,EAAC,+BAAxC;AAAwE,UAAA,KAAK,EAAEV,GAA/E;AAAoF,UAAA,QAAQ,EAAE4B;AAA9F;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,cAAD;AAAgB,UAAA,SAAS,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAiBI;AAAK,QAAA,SAAS,EAAC,mFAAf;AAAA,+BACA;AAAQ,UAAA,OAAO,EAAEN,YAAjB;AAA+B,UAAA,SAAS,EAAC,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BA,eAiDA;AAAA;AAAA;AAAA;AAAA,YAjDA,eAkDA;AAAK,MAAA,SAAS,EAAC,2CAAf;AAA2D,MAAA,KAAK,EAAE;AAACyB,QAAAA,OAAO,EAAEvC,SAAS,GAAG,MAAH,GAAY;AAA/B,OAAlE;AAAA,8BAEI;AAAM,QAAA,SAAS,EAAC,uCAAhB;AAAwD,QAAA,QAAQ,EAAE2B,cAAlE;AAAA,gCACE;AAAM,UAAA,EAAE,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,yIAAf;AAAA,kCAEA;AAAO,YAAA,SAAS,EAAC,8BAAjB;AAAiD,YAAA,IAAI,EAAC,QAAtD;AAA+D,YAAA,IAAI,EAAC,QAApE;AAA6E,YAAA,WAAW,EAAC,eAAzF;AAAyG,YAAA,KAAK,EAAEjC,MAAhH;AAAwH,YAAA,QAAQ,MAAhI;AAAiI,YAAA,QAAQ,EAAGS,CAAD,IAAOR,SAAS,CAACQ,CAAC,CAACkB,MAAF,CAASC,KAAV;AAA3J;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA,QAAC,cAAD;AAAgB,YAAA,SAAS,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,kBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQA;AAAK,UAAA,SAAS,EAAC,mFAAf;AAAA,iCACA;AAAQ,YAAA,SAAS,EAAC,KAAlB;AAAwB,YAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBARA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAiBI;AAAM,QAAA,SAAS,EAAC,uCAAhB;AAAwD,QAAA,QAAQ,EAAEW,WAAlE;AAAA,gCAEA;AAAM,UAAA,EAAE,EAAC;AAAT;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGE;AAAK,UAAA,SAAS,EAAC,yIAAf;AAAA,kCAEA;AAAO,YAAA,SAAS,EAAC,8BAAjB;AAAgD,YAAA,IAAI,EAAC,QAArD;AAA8D,YAAA,IAAI,EAAC,KAAnE;AAAyE,YAAA,WAAW,EAAC,YAArF;AAAkG,YAAA,KAAK,EAAEnC,GAAzG;AAA8G,YAAA,QAAQ,MAAtH;AAAuH,YAAA,QAAQ,EAAGK,CAAD,IAAOJ,MAAM,CAACI,CAAC,CAACkB,MAAF,CAASC,KAAV;AAA9I;AAAA;AAAA;AAAA;AAAA,kBAFA,eAGA,QAAC,cAAD;AAAgB,YAAA,SAAS,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA,kBAHA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eASA;AAAK,UAAA,SAAS,EAAC,mFAAf;AAAA,iCACA;AAAQ,YAAA,SAAS,EAAC,KAAlB;AAAwB,YAAA,IAAI,EAAC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBATA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAlDA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuFD;;GAvMQ/B,G;;KAAAA,G;AAyMT,eAAeA,GAAf","sourcesContent":["import './App.css';\nimport {MicrophoneIcon, SearchIcon } from '@heroicons/react/outline'\nimport { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport firebase from './firebase'\n\n\nfunction App() {\n\n  //using react hooks\n  const [url, setUrl] = useState(\"\"); \n  const [number, setNumber] = useState(); \n  const [email, setEmail] = useState(\"\");\n  const [OTP, setOTP] = useState();\n  const [showLogin, setshowLogin] = useState(false);\n\n\n\n  const handleLogout = (e) => {\n    e.preventDefault();\n    firebase.auth.signOut()\n    .then(() => {\n      alert('uuser has successfully logged out');\n    })\n  }\n  useEffect(() => {\n    firebase.auth.onAuthStateChanged(user =>{\n      if(user) {\n        console.log(user);\n      }\n      else{\n        console.log(\"not logged in\");\n      }\n  })\n    \n  }, [input])\n  \n\n  //handling the API calls\n  const handleSubmit = async(event) => {\n    event.preventDefault();\n    setshowLogin(true)\n    await \n    axios.get(`http://localhost:5000?url=${url}&email=${email}`)\n    .then(response => {\n      console.log(response)\n    })\n    .catch(error => {\n      console.log(error)\n    })\n}\n\n\n\n  //handling the onchange events\n  const handleChange = (event) =>{\n    setUrl(event.target.value);\n  }\n\n  const configureCaptcha = () =>{\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('sign-in-button', {\n      'size': 'invisible',\n      'callback': (response) => {\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\n        onSignInSubmit();\n        console.log(\"verified\");\n      },\n      defaultCountry: 'IND'\n    });\n  }\n\n\n  const onSignInSubmit = (e) => {\n    e.preventDefault();\n    //calling recaptcha\n    configureCaptcha();\n\n    const phoneNumber = \"+91\" + number;\n    const appVerifier = window.recaptchaVerifier;\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)\n        .then((confirmationResult) => {\n          // SMS sent. Prompt user to type the code from the message, then sign the\n          // user in with confirmationResult.confirm(code).\n          window.confirmationResult = confirmationResult;\n          console.log(\"Otp sent!\")\n          alert('OTP has been sent');\n          // ...\n        }).catch((error) => {\n          // Error; SMS not sent\n          console.log(\"SMS error\",error);\n        });\n  }\n\n  const onSubmitOtp = (e) => {\n    e.preventDefault();\n    const code = OTP;\n    window.confirmationResult.confirm(code).then((result) => {\n      // User signed in successfully.\n      const user = result.user;\n      console.log(JSON.stringify(user));\n      alert(\"User is verified\")\n      // ...\n    }).catch((error) => {\n      // User couldn't sign in (bad verification code?)\n      // ...\n    });\n  }\n\n  // function sendEmail(e){\n  //   e.preventDefault();\n  //   emailjs.sendForm('service_0itqh7d', 'template_1ig71cm', e.target, 'user_CrKcj2LJr4LH0bMkQRcVD')\n  //   .then((result) => {\n  //       console.log(result.text);\n  //   }, (error) => {\n  //       console.log(error.text);\n  //   });\n  // } \n\n\n  return (\n    <div >\n      <head>\n        <title>Google2.0</title>\n        <meta name=\"description\" content=\"Generated by create next app\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </head>\n    {/* header-section */}\n    <header className=\"flex w-full p-5 justify-between text-sm text-gray-700\">\n    {/* div left */}\n      <div className=\"flex space-x-4 items-center\">\n        <p className=\"link\">About</p>\n        <p className=\"link\">Store</p> \n\n      </div>\n    {/* DIV RIGHT */}\n      <div className=\"flex space-x-4 items-center\">\n        <p className=\"link\">Gmail</p>\n        <form onSubmit={handleLogout}> \n        <button className=\"btn\" id=\"sign-in-button\" >Logout</button>\n        </form>\n\n    {/* icons */}\n      </div> \n     \n    </header>\n    \n    {/* body-section */}\n    <form className=\"flex flex-col items-center mt-44 flex-grow\" >\n      <img\n        src=\"https://www.google.co.uk/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png\"\n        width={300}\n        height={100}\n        />\n\n        <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n          <SearchIcon \n            className=\"h-5 mr-3 text-gray-500\"\n          />\n          <input type=\"text\" name=\"url\" className=\"focus:outline-none flex-grow \" value={url} onChange={handleChange}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n\n        {/* buttons */}\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button onClick={handleSubmit} className=\"btn\">Monitor</button>\n        </div>\n      \n    </form>\n    <hr />\n    <div className=\"lex flex-col items-center pl-44 flex-grow\" style={{display: showLogin ? 'flex' : 'none'}}>\n   \n        <form className=\"flex flex-col items-center  flex-grow\" onSubmit={onSignInSubmit}>\n          <div  id=\"sign-in-button \"></div>\n          <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n\n          <input className=\"focus:outline-none flex-grow\"  type=\"number\" name=\"number\" placeholder=\"Mobile number\" value={number} required onChange={(e) => setNumber(e.target.value)}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button className=\"btn\" type=\"submit\">Submit</button>\n        </div>\n          \n        </form>\n\n        \n        <form className=\"flex flex-col items-center  flex-grow\" onSubmit={onSubmitOtp}>\n        \n        <div  id=\"sign-in-button \"></div>\n          <div className=\"flex w-full mt-5 hover:shadow-lg focus-within:shadow-lg max-w-md rounded-full border border-gray-200 px-5 py-3 items-center sm:max-w-xl\">\n\n          <input className=\"focus:outline-none flex-grow\" type=\"number\" name=\"otp\" placeholder=\"OTP Number\" value={OTP} required onChange={(e) => setOTP(e.target.value)}/>\n          <MicrophoneIcon className=\"h-5\" />\n\n        </div>\n        <div className=\"flex flex-col w-1/2 space-y-2 justify-center mt-8 sm:space-y-0 sm:flex-row sm-x-4\">\n        <button className=\"btn\" type=\"submit\">Submit OTP</button>\n        </div>\n        </form>\n      </div>\n    {/* footer-section */}\n    \n     \n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}